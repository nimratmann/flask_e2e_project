{% extends 'layout.html' %}

{% block content %}
    <h1>Health Data Visualization</h1>
    <div id="weightChart"></div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Dummy data for demonstration purposes
            const weightData = [
                { date: '2023-01-01', value: 150 },
                { date: '2023-02-01', value: 148 },
                { date: '2023-03-01', value: 145 },
                // Add more data points as needed
            ];

            // Format data for JavaScript
            const formattedData = JSON.stringify(weightData);

            // Call a Python function to generate the chart
            fetch('/generate_chart', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: formattedData,
            })
            .then(response => response.json())
            .then(chartConfig => {
                // Render the chart using the received configuration
                new Chart(document.getElementById('weightChart'), chartConfig);
            });
        });
    </script>
{% endblock %}
